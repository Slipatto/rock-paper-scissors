<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock - Paper - Scissors</title>
</head>

<body>
    <!-- PSEUDOCODE
    Welcome to player to the game, ask for an input (Rock, Paper or Scissors)
    Have Player 2 (Computer) Choose Rock, Paper or Scissors Randomly
    Compare Player1 input to Player 2 random choice to determine winner
    Return a string declaring winner or loser
    Compare player 1 wins to player 2 wins - first to 3 wins is the champion -->

    <!-- PSUEDOCODE#2
    Create a button for each selection (rock, paper, scissors)
    Add event listeners to each - should call playRound with the correct   
    playerSelection for each button
    Add a div to display results 
    change console.logs into DOM methods
    Display the running score. announce a winner of the game once someone
    reaches 5 points -->
    <h1>Please select a choice:</h1>

    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div>
        <p id="player1">You have not selected a choice</p>
        <p id="computer">The computer has no selected a choice</p>
        <p id="results">You have won 0 games, the computer has won 0 games.</p>
    </div>
    
<script>

// Function for the computers choice in the game
function getComputerChoice() {
    const gameChoice = ['rock', 'paper', 'scissors']
    let computerChoice = gameChoice[Math.floor(Math.random() * gameChoice.length)];
    return computerChoice;
}

// Function for comparing the players choice to computers choice
function playRound(input) {
    player2 = getComputerChoice()
    if (input === player2) {
    return 'Tie!';
    } else if (input === 'rock' && player2 === 'paper') {
    return `You Lose! ${player2} beats ${input}`;
    } else if (input === 'rock' && player2 === 'scissors') {
    return `You Win! ${input} beats ${player2}`;
    } else if (input === 'paper' && player2 === 'scissors') {
    return `You Lose! ${player2} beats ${input}`;
    } else if (input === 'paper' && player2 === 'rock') {
    return `You Win! ${input} beats ${player2}`;
    } else if (input === 'scissors' && player2 === 'rock') {
    return `You Lose! ${player2} beats ${input}`;
    } else if (input === 'scissors' && player2 === 'paper') {
    return `You Win! ${input} beats ${player2}`;
    }
    }
  
// Function for validating and acquiring player ones choice
// Player ones choice no longer needs to be validated
// function playerChoice() {
//     // Ask the player for input, convert to lowercase
//     let stop = false;
//     let choice;

    // Use a loop to to ensure that the player is inputting the correct selection
//     do {
//         choice = prompt("Welcome to Rock, Paper, Scissors, please choose a play (Rock, Paper or Scissors)");
            
//         if (choice.toLowerCase() === 'rock' || choice.toLowerCase() === 'paper' || choice.toLowerCase() === 'scissors') {
//             stop = true;
//         } else {
//             stop = false;
//         }
//     } while (!stop);
//     return choice;
// }

// Function to play the game, loops until one player reaches 3 wins
function playGame() {
    let playercount = 0
    let computercount = 0
    do {
        let player1 = playerChoice()
        // This needs to be changed to reference the button chosen
        let computer = getComputerChoice()
        let game = playRound(player1)
        alert(game)
        if (game.includes('Win')) {
            playercount += 1;
        } else if (game.includes('Lose')) {
            computercount += 1; 
        }
        }
    while (playercount != 3 && computercount != 3);
}

// Call the function to play the game
playGame()
</script>

</body>

</html>